<div class="page">
  <mat-card color="secondary">
    <mat-card-title>Register</mat-card-title>
    <mat-card-content>
      <form
        class="form"
        [formGroup]="userForm"
        (ngSubmit)="createAccount()"
        autcomplete="off"
        (reset)="userForm.reset()"
      >
        <mat-form-field class="fill-card">
          <mat-label>Username</mat-label>
          <input
            type="text"
            matInput
            formControlName="username"
            placeholder="Ex. pat"
            required
          />
          <mat-error *ngIf="emptyUsername()"
            >Username is <strong>required</strong></mat-error
          >
        </mat-form-field>
        <p>
          <mat-form-field class="fill-card">
            <mat-label>Email</mat-label>
            <input
              type="email"
              matInput
              formControlName="email"
              placeholder="Ex. pat@example.com"
              required
            />
            <mat-error *ngIf="invalidEmail()"
              >Please enter a valid email address
            </mat-error>

            <mat-error *ngIf="emptyEmail()"
              >Email is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </p>
        <form class="form" [formGroup]="passwordForm"></form>
      </form>
      <mat-divider></mat-divider>
      <form
        class="form"
        [formGroup]="passwordForm"
        (ngSubmit)="createAccount()"
      >
        <mat-form-field class="fill-card">
          <mat-label>Password</mat-label>
          <input
            type="password"
            matInput
            formControlName="password"
            placeholder="Ex. password"
            required
          />
          <mat-error *ngIf="invalidPassword()"
            >Password is <strong>required</strong>
          </mat-error>
          <mat-error *ngIf="tooSmallPassword()"
            >Password must be at least 8 characters long</mat-error
          >
        </mat-form-field>
        <p>
          <mat-form-field class="fill-card">
            <mat-label>Confirm Password</mat-label>
            <input
              type="password"
              matInput
              formControlName="confirmPassword"
              placeholder="Ex. password"
              required
            />
            <mat-error *ngIf="invalidConfirmPassword()"
              >Passwords do not match
            </mat-error>
          </mat-form-field>
        </p>
      </form>
      <mat-card-actions>
        <span class="fill-remaining-space"></span>
        <button
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="userForm.invalid || passwordForm.invalid"
        >
          Sign Up
        </button>
      </mat-card-actions>
    </mat-card-content>
  </mat-card>
</div>
